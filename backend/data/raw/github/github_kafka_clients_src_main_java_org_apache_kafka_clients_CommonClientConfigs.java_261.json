{
  "id": "kafka_clients_src_main_java_org_apache_kafka_clients_CommonClientConfigs.java_261",
  "title": "kafka/clients/src/main/java/org/apache/kafka/clients/CommonClientConfigs.java",
  "content": "        HashMap<String, Object> rval = new HashMap<>();\n        Map<String, Object> originalConfig = config.originals();\n        if ((!originalConfig.containsKey(RECONNECT_BACKOFF_MAX_MS_CONFIG)) &&\n            originalConfig.containsKey(RECONNECT_BACKOFF_MS_CONFIG)) {\n            log.warn(\"Disabling exponential reconnect backoff because {} is set, but {} is not.\",\n                    RECONNECT_BACKOFF_MS_CONFIG, RECONNECT_BACKOFF_MAX_MS_CONFIG);\n            rval.put(RECONNECT_BACKOFF_MAX_MS_CONFIG, parsedValues.get(RECONNECT_BACKOFF_MS_CONFIG));\n        }\n        return rval;\n    }\n\n    /**\n     * Log warning if the exponential backoff is disabled due to initial backoff value is greater than max backoff value.\n     *\n     * @param config                    The config object.\n     */\n    public static void warnDisablingExponentialBackoff(AbstractConfig config) {\n        long retryBackoffMs = config.getLong(RETRY_BACKOFF_MS_CONFIG);\n        long retryBackoffMaxMs = config.getLong(RETRY_BACKOFF_MAX_MS_CONFIG);\n        if (retryBackoffMs > retryBackoffMaxMs) {\n            log.warn(\"Configuration '{}' with value '{}' is greater than configuration '{}' with value '{}'. \" +\n                    \"A static backoff with value '{}' will be applied.\",\n                RETRY_BACKOFF_MS_CONFIG, retryBackoffMs,\n                RETRY_BACKOFF_MAX_MS_CONFIG, retryBackoffMaxMs, retryBackoffMaxMs);\n        }\n\n        long connectionSetupTimeoutMs = config.getLong(SOCKET_CONNECTION_SETUP_TIMEOUT_MS_CONFIG);\n        long connectionSetupTimeoutMaxMs = config.getLong(SOCKET_CONNECTION_SETUP_TIMEOUT_MAX_MS_CONFIG);\n        if (connectionSetupTimeoutMs > connectionSetupTimeoutMaxMs) {\n            log.warn(\"Configuration '{}' with value '{}' is greater than configuration '{}' with value '{}'. \" +\n                    \"A static connection setup timeout with value '{}' will be applied.\",\n                SOCKET_CONNECTION_SETUP_TIMEOUT_MS_CONFIG, connectionSetupTimeoutMs,\n                SOCKET_CONNECTION_SETUP_TIMEOUT_MAX_MS_CONFIG, connectionSetupTimeoutMaxMs, connectionSetupTimeoutMaxMs);\n        }\n    }\n\n    public static void postValidateSaslMechanismConfig(AbstractConfig config) {\n        SecurityProtocol securityProtocol = SecurityProtocol.forName(config.getString(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG));\n        String clientSaslMechanism = config.getString(SaslConfigs.SASL_MECHANISM);\n        if (securityProtocol == SecurityProtocol.SASL_PLAINTEXT || securityProtocol == SecurityProtocol.SASL_SSL) {\n            if (clientSaslMechanism == null || clientSaslMechanism.isEmpty()) {\n                throw new ConfigException(SaslConfigs.SASL_MECHANISM, null, \"When the \" + CommonClientConfigs.SECURITY_PROTOCOL_CONFIG +\n                        \" configuration enables SASL, mechanism must be non-null and non-empty string.\");\n            }\n        }\n    }\n\n    public static List<MetricsReporter> metricsReporters(AbstractConfig config) {\n        return metricsReporters(Collections.emptyMap(), config);\n    }\n\n    public static List<MetricsReporter> metricsReporters(String clientId, AbstractConfig config) {\n        return metricsReporters(Collections.singletonMap(CommonClientConfigs.CLIENT_ID_CONFIG, clientId), config);\n    }\n\n    public static List<MetricsReporter> metricsReporters(Map<String, Object> clientIdOverride, AbstractConfig config) {\n        return config.getConfiguredInstances(CommonClientConfigs.METRIC_REPORTER_CLASSES_CONFIG,\n                MetricsReporter.class, clientIdOverride);\n    }\n\n    public static Optional<ClientTelemetryReporter> telemetryReporter(String clientId, AbstractConfig config) {\n        if (!config.getBoolean(CommonClientConfigs.ENABLE_METRICS_PUSH_CONFIG)) {\n            return Optional.empty();\n        }\n\n        ClientTelemetryReporter telemetryReporter = new ClientTelemetryReporter(Time.SYSTEM);\n        telemetryReporter.configure(config.originals(Collections.singletonMap(CommonClientConfigs.CLIENT_ID_CONFIG, clientId)));\n        return Optional.of(telemetryReporter);\n    }\n}\n",
  "url": "https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/CommonClientConfigs.java#L261-L331",
  "file_path": "clients/src/main/java/org/apache/kafka/clients/CommonClientConfigs.java",
  "repo_name": "kafka",
  "language": "java",
  "start_line": 261,
  "end_line": 331,
  "last_modified": "2026-02-06T01:16:27.577567",
  "source_type": "github"
}