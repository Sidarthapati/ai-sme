{
  "id": "kafka_clients_src_main_java_org_apache_kafka_clients_admin_ListTransactionsOptions.java_1",
  "title": "kafka/clients/src/main/java/org/apache/kafka/clients/admin/ListTransactionsOptions.java",
  "content": "/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License. You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.apache.kafka.clients.admin;\n\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Objects;\nimport java.util.Set;\n\n/**\n * Options for {@link Admin#listTransactions()}.\n */\npublic class ListTransactionsOptions extends AbstractOptions<ListTransactionsOptions> {\n    private Set<TransactionState> filteredStates = Collections.emptySet();\n    private Set<Long> filteredProducerIds = Collections.emptySet();\n\n    private long filteredDuration = -1L;\n    private String filteredTransactionalIdPattern;\n    /**\n     * Filter only the transactions that are in a specific set of states. If no filter\n     * is specified or if the passed set of states is empty, then transactions in all\n     * states will be returned.\n     *\n     * @param states the set of states to filter by\n     * @return this object\n     */\n    public ListTransactionsOptions filterStates(Collection<TransactionState> states) {\n        this.filteredStates = new HashSet<>(states);\n        return this;\n    }\n\n    /**\n     * Filter only the transactions from producers in a specific set of producerIds.\n     * If no filter is specified or if the passed collection of producerIds is empty,\n     * then the transactions of all producerIds will be returned.\n     *\n     * @param producerIdFilters the set of producerIds to filter by\n     * @return this object\n     */\n    public ListTransactionsOptions filterProducerIds(Collection<Long> producerIdFilters) {\n        this.filteredProducerIds = new HashSet<>(producerIdFilters);\n        return this;\n    }\n\n    /**\n     * Filter only the transactions that are running longer than the specified duration.\n     * If no filter is specified or if the passed duration ms is less than 0,\n     * then the all transactions will be returned.\n     *\n     * @param durationMs the duration in milliseconds to filter by\n     * @return this object\n     */\n    public ListTransactionsOptions filterOnDuration(long durationMs) {\n        this.filteredDuration = durationMs;\n        return this;\n    }\n\n    /**\n     * Filter only the transactions that match with the given transactional ID pattern.\n     * If the filter is null or if the passed string is empty,\n     * then all the transactions will be returned.\n     *\n     * @param pattern the transactional ID regular expression pattern to filter by\n     * @return this object\n     */\n    public ListTransactionsOptions filterOnTransactionalIdPattern(String pattern) {\n        this.filteredTransactionalIdPattern = pattern;\n        return this;\n    }\n\n    /**\n     * Returns the set of states to be filtered or empty if no states have been specified.\n     *\n     * @return the current set of filtered states (empty means that no states are filtered and\n     *         all transactions will be returned)\n     */\n    public Set<TransactionState> filteredStates() {\n        return filteredStates;\n    }\n\n    /**\n     * Returns the set of producerIds that are being filtered or empty if none have been specified.\n     *\n     * @return the current set of filtered states (empty means that no producerIds are filtered and\n     *         all transactions will be returned)\n     */\n    public Set<Long> filteredProducerIds() {\n        return filteredProducerIds;\n    }\n\n    /**\n     * Returns the duration ms value being filtered.\n     *\n     * @return the current duration filter value in ms (negative value means transactions are not filtered by duration)\n     */\n    public long filteredDuration() {\n        return filteredDuration;\n    }\n\n    /**\n     * Returns transactional ID being filtered.\n     *\n     * @return the current transactional ID pattern filter (empty means no transactional IDs are filtered and all\n     *         transactions will be returned)\n     */\n    public String filteredTransactionalIdPattern() {\n        return filteredTransactionalIdPattern;\n    }\n\n    @Override\n    public String toString() {\n        return \"ListTransactionsOptions(\" +\n            \"filteredStates=\" + filteredStates +\n            \", filteredProducerIds=\" + filteredProducerIds +\n            \", filteredDuration=\" + filteredDuration +\n            \", filteredTransactionalIdPattern=\" + filteredTransactionalIdPattern +\n            \", timeoutMs=\" + timeoutMs +\n            ')';\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ListTransactionsOptions that = (ListTransactionsOptions) o;\n        return Objects.equals(filteredStates, that.filteredStates) &&\n            Objects.equals(filteredProducerIds, that.filteredProducerIds) &&\n            Objects.equals(filteredDuration, that.filteredDuration) &&\n            Objects.equals(filteredTransactionalIdPattern, that.filteredTransactionalIdPattern);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(filteredStates, filteredProducerIds, filteredDuration, filteredTransactionalIdPattern);",
  "url": "https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/ListTransactionsOptions.java#L1-L150",
  "file_path": "clients/src/main/java/org/apache/kafka/clients/admin/ListTransactionsOptions.java",
  "repo_name": "kafka",
  "language": "java",
  "start_line": 1,
  "end_line": 150,
  "last_modified": "2026-02-06T01:16:27.586368",
  "source_type": "github"
}