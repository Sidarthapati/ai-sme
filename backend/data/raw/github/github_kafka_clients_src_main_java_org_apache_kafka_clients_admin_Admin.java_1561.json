{
  "id": "kafka_clients_src_main_java_org_apache_kafka_clients_admin_Admin.java_1561",
  "title": "kafka/clients/src/main/java/org/apache/kafka/clients/admin/Admin.java",
  "content": "     * updates may succeed while the rest may fail.\n     * <p>\n     * The API takes in a map of finalized feature names to {@link FeatureUpdate} that needs to be\n     * applied. Each entry in the map specifies the finalized feature to be added or updated or\n     * deleted, along with the new max feature version level value. This request is issued only to\n     * the controller since the API is only served by the controller. The return value contains an\n     * error code for each supplied {@link FeatureUpdate}, and the code indicates if the update\n     * succeeded or failed in the controller.\n     * <ul>\n     * <li>Downgrading a feature version level is not a common operation and should only be\n     * performed when necessary. It is permitted only if the {@link FeatureUpdate} specifies the\n     * {@code upgradeType} as either {@link FeatureUpdate.UpgradeType#SAFE_DOWNGRADE} or\n     * {@link FeatureUpdate.UpgradeType#UNSAFE_DOWNGRADE}.\n     * <ul>\n     * <li>{@code SAFE_DOWNGRADE}: Allows downgrades that do not lead to metadata loss.</li>\n     * <li>{@code UNSAFE_DOWNGRADE}: Permits downgrades that might result in metadata loss.</li>\n     * </ul>\n     * Note that even with these settings, certain downgrades may still be rejected by the controller\n     * if they are considered unsafe or impossible.</li>\n     * <li>Deleting a finalized feature version is also not a common operation. To delete a feature,\n     * set the {@code maxVersionLevel} to zero and specify the {@code upgradeType} as either\n     * {@link FeatureUpdate.UpgradeType#SAFE_DOWNGRADE} or\n     * {@link FeatureUpdate.UpgradeType#UNSAFE_DOWNGRADE}.</li>\n     * <li>The {@link FeatureUpdate.UpgradeType#UPGRADE} type cannot be used when the\n     * {@code maxVersionLevel} is zero. Attempting to do so will result in an\n     * {@link IllegalArgumentException}.</li>\n     * </ul>\n     * <p>\n     * The following exceptions can be anticipated when calling {@code get()} on the futures\n     * obtained from the returned {@link UpdateFeaturesResult}:\n     * <ul>\n     *   <li>{@link org.apache.kafka.common.errors.ClusterAuthorizationException}\n     *   If the authenticated user didn't have alter access to the cluster.</li>\n     *   <li>{@link org.apache.kafka.common.errors.InvalidRequestException}\n     *   If the request details are invalid. e.g., a non-existing finalized feature is attempted\n     *   to be deleted or downgraded.</li>\n     *   <li>{@link org.apache.kafka.common.errors.TimeoutException}\n     *   If the request timed out before the updates could finish. It cannot be guaranteed whether\n     *   the updates succeeded or not.</li>\n     *   <li>{@link FeatureUpdateFailedException}\n     *   This means there was an unexpected error encountered when the update was applied on\n     *   the controller. There is no guarantee on whether the update succeeded or failed. The best\n     *   way to find out is to issue a {@link Admin#describeFeatures(DescribeFeaturesOptions)}\n     *   request.</li>\n     * </ul>\n     * <p>\n     * This operation is supported by brokers with version 2.7.0 or higher.\n\n     * @param featureUpdates the map of finalized feature name to {@link FeatureUpdate}\n     * @param options the options to use\n     * @return the {@link UpdateFeaturesResult} containing the result\n     */\n    UpdateFeaturesResult updateFeatures(Map<String, FeatureUpdate> featureUpdates, UpdateFeaturesOptions options);\n\n    /**\n     * Describes the state of the metadata quorum.\n     * <p>\n     * This is a convenience method for {@link #describeMetadataQuorum(DescribeMetadataQuorumOptions)} with default options.\n     * See the overload for more details.\n     *\n     * @return the {@link DescribeMetadataQuorumResult} containing the result\n     */\n    default DescribeMetadataQuorumResult describeMetadataQuorum() {\n        return describeMetadataQuorum(new DescribeMetadataQuorumOptions());\n    }\n\n    /**\n     * Describes the state of the metadata quorum.\n     * <p>\n     * The following exceptions can be anticipated when calling {@code get()} on the futures obtained from\n     * the returned {@code DescribeMetadataQuorumResult}:\n     * <ul>\n     *   <li>{@link org.apache.kafka.common.errors.ClusterAuthorizationException}\n     *   If the authenticated user didn't have {@code DESCRIBE} access to the cluster.</li>\n     *   <li>{@link org.apache.kafka.common.errors.TimeoutException}\n     *   If the request timed out before the controller could list the cluster links.</li>\n     * </ul>\n     *\n     * @param options The {@link DescribeMetadataQuorumOptions} to use when describing the quorum.\n     * @return the {@link DescribeMetadataQuorumResult} containing the result\n     */\n    DescribeMetadataQuorumResult describeMetadataQuorum(DescribeMetadataQuorumOptions options);\n\n    /**\n     * Unregister a broker.\n     * <p>\n     * This operation does not have any effect on partition assignments.\n     *\n     * This is a convenience method for {@link #unregisterBroker(int, UnregisterBrokerOptions)}\n     *\n     * @param brokerId  the broker id to unregister.\n     *\n     * @return the {@link UnregisterBrokerResult} containing the result\n     */\n    @InterfaceStability.Unstable\n    default UnregisterBrokerResult unregisterBroker(int brokerId) {\n        return unregisterBroker(brokerId, new UnregisterBrokerOptions());\n    }\n\n    /**\n     * Unregister a broker.\n     * <p>\n     * This operation does not have any effect on partition assignments.\n     *\n     * The following exceptions can be anticipated when calling {@code get()} on the future from the\n     * returned {@link UnregisterBrokerResult}:\n     * <ul>\n     *   <li>{@link org.apache.kafka.common.errors.TimeoutException}\n     *   If the request timed out before the describe operation could finish.</li>\n     *   <li>{@link org.apache.kafka.common.errors.UnsupportedVersionException}\n     *   If the software is too old to support the unregistration API.\n     * </ul>\n     * <p>\n     *\n     * @param brokerId  the broker id to unregister.\n     * @param options   the options to use.\n     *\n     * @return the {@link UnregisterBrokerResult} containing the result\n     */\n    @InterfaceStability.Unstable\n    UnregisterBrokerResult unregisterBroker(int brokerId, UnregisterBrokerOptions options);\n\n    /**\n     * Describe producer state on a set of topic partitions. See\n     * {@link #describeProducers(Collection, DescribeProducersOptions)} for more details.\n     *\n     * @param partitions The set of partitions to query\n     * @return The result\n     */\n    default DescribeProducersResult describeProducers(Collection<TopicPartition> partitions) {\n        return describeProducers(partitions, new DescribeProducersOptions());\n    }\n\n    /**\n     * Describe active producer state on a set of topic partitions. Unless a specific broker\n     * is requested through {@link DescribeProducersOptions#brokerId(int)}, this will\n     * query the partition leader to find the producer state.\n     *\n     * @param partitions The set of partitions to query\n     * @param options Options to control the method behavior\n     * @return The result\n     */\n    DescribeProducersResult describeProducers(Collection<TopicPartition> partitions, DescribeProducersOptions options);\n\n    /**\n     * Describe the state of a set of transactional IDs. See\n     * {@link #describeTransactions(Collection, DescribeTransactionsOptions)} for more details.\n     *\n     * @param transactionalIds The set of transactional IDs to query\n     * @return The result",
  "url": "https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/admin/Admin.java#L1561-L1710",
  "file_path": "clients/src/main/java/org/apache/kafka/clients/admin/Admin.java",
  "repo_name": "kafka",
  "language": "java",
  "start_line": 1561,
  "end_line": 1710,
  "last_modified": "2026-02-06T01:16:27.579602",
  "source_type": "github"
}