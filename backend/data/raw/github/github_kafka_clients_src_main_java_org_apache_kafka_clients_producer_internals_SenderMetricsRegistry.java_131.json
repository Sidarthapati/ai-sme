{
  "id": "kafka_clients_src_main_java_org_apache_kafka_clients_producer_internals_SenderMetricsRegistry.java_131",
  "title": "kafka/clients/src/main/java/org/apache/kafka/clients/producer/internals/SenderMetricsRegistry.java",
  "content": "\n        // We can't create the MetricName up front for these, because we don't know the topic name yet.\n        this.topicRecordSendRate = createTopicTemplate(\"record-send-rate\",\n                \"The average number of records sent per second for a topic.\");\n        this.topicRecordSendTotal = createTopicTemplate(\"record-send-total\",\n                \"The total number of records sent for a topic.\");\n        this.topicByteRate = createTopicTemplate(\"byte-rate\",\n                \"The average number of bytes sent per second for a topic.\");\n        this.topicByteTotal = createTopicTemplate(\"byte-total\", \n                \"The total number of bytes sent for a topic.\");\n        this.topicCompressionRate = createTopicTemplate(\"compression-rate\",\n                \"The average compression rate of record batches for a topic, defined as the average ratio \" +\n                        \"of the compressed batch size over the uncompressed size.\");\n        this.topicRecordRetryRate = createTopicTemplate(\"record-retry-rate\",\n                \"The average per-second number of retried record sends for a topic\");\n        this.topicRecordRetryTotal = createTopicTemplate(\"record-retry-total\",\n                \"The total number of retried record sends for a topic\");\n        this.topicRecordErrorRate = createTopicTemplate(\"record-error-rate\",\n                \"The average per-second number of record sends that resulted in errors for a topic\");\n        this.topicRecordErrorTotal = createTopicTemplate(\"record-error-total\",\n                \"The total number of record sends that resulted in errors for a topic\");\n\n    }\n\n    private MetricName createMetricName(String name, String description) {\n        return this.metrics.metricInstance(createTemplate(name, KafkaProducerMetrics.GROUP, description, this.tags));\n    }\n\n    private MetricNameTemplate createTopicTemplate(String name, String description) {\n        return createTemplate(name, TOPIC_METRIC_GROUP_NAME, description, this.topicTags);\n    }\n\n    /* topic level metrics */\n    public MetricName topicRecordSendRate(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicRecordSendRate, tags);\n    }\n\n    public MetricName topicRecordSendTotal(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicRecordSendTotal, tags);\n    }\n\n    public MetricName topicByteRate(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicByteRate, tags);\n    }\n\n    public MetricName topicByteTotal(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicByteTotal, tags);\n    }\n\n    public MetricName topicCompressionRate(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicCompressionRate, tags);\n    }\n\n    public MetricName topicRecordRetryRate(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicRecordRetryRate, tags);\n    }\n\n    public MetricName topicRecordRetryTotal(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicRecordRetryTotal, tags);\n    }\n\n    public MetricName topicRecordErrorRate(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicRecordErrorRate, tags);\n    }\n\n    public MetricName topicRecordErrorTotal(Map<String, String> tags) {\n        return this.metrics.metricInstance(this.topicRecordErrorTotal, tags);\n    }\n\n    public List<MetricNameTemplate> allTemplates() {\n        return allTemplates;\n    }\n\n    public Sensor sensor(String name) {\n        return this.metrics.sensor(name);\n    }\n\n    public void addMetric(MetricName m, Measurable measurable) {\n        this.metrics.addMetric(m, measurable);\n    }\n\n    public Sensor getSensor(String name) {\n        return this.metrics.getSensor(name);\n    }\n\n    private MetricNameTemplate createTemplate(String name, String group, String description, Set<String> tags) {\n        MetricNameTemplate template = new MetricNameTemplate(name, group, description, tags);\n        this.allTemplates.add(template);\n        return template;\n    }\n\n}\n",
  "url": "https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/producer/internals/SenderMetricsRegistry.java#L131-L223",
  "file_path": "clients/src/main/java/org/apache/kafka/clients/producer/internals/SenderMetricsRegistry.java",
  "repo_name": "kafka",
  "language": "java",
  "start_line": 131,
  "end_line": 223,
  "last_modified": "2026-02-06T01:16:27.610300",
  "source_type": "github"
}