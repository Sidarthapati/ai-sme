{
  "id": "confluence_display_KAFKA_Proposed+patches+for+0.8.2.2",
  "title": "Proposed patches for 0.8.2.2 - Apache Kafka - Apache Software Foundation",
  "content": "JIRA\nDescription\nSeverity\nSize\nDecision\nKAFKA-2189\nSnappy compression of message batches less efficient in 0.8.2.1\nhigh\ntiny\nYes\nKafka-2308\nSnappy compression and retries cause data corruption in new producer\nhigh\nsmall\nYes\nKAFKA-2421\nUpgrade to LZ4 1.3 to avoid crashing IBM Java 7\nmedium\nsmall\nuncommitted\nKAFKA-1788\nproducer record can stay in RecordAccumulator forever if leader is no available\nhigh\nlarge (also, adds new configuration)\nNo\nKAFKA-2120\nAdd a request timeout to NetworkClient\nhigh\nlarge (also, adds new configuration)\nuncommitted\nKAFKA-2114\nunable to set default min.insync.replicas\nmedium\nsmall\nYes\nKAFKA-1702\nMessages silently Lost by producer\nhigh\nsmall\nNo (Issue with old producer)\nKAFKA-2012\nBroker should automatically handle corrupt index files\nmedium\nsmall\nNo\nKAFKA-1367\nBroker topic metadata not kept in sync with ZooKeeper\nmedium\nlarge\nNo\nKAFKA-2406\nISR propagation should be throttled to avoid overwhelming controller.\nNo (depends on KAFKA-1367)\nKAFKA-972\nMetadataRequest returns stale list of brokers\nmedium\nsmall\nNo\nKAFKA-2336\nChanging offsets.topic.num.partitions after the offset topic is created breaks consumer group partition assignment\nhigh\nsmall\nNo (unlikely user error)\nKAFKA-2337\nVerify that metric names will not collide when creating new topics\nmedium\nsmall\nNo\nKAFKA-2393\nCorrectly Handle InvalidTopicException in KafkaApis.getTopicMetadata()\nmedium\nsmall\nNo (depends on KAFKA-2337)\nKAFKA-2042\nNew producer metadata update always get all topics.\nlow\nsmall\nNo\nKAFKA-1867\nliveBroker list not updated on a cluster with no topics\nmedium\nsmall\nNo\nKAFKA-1650\nMirror Maker could lose data on unclean shutdown.\nhigh\nlarge\nNo\nKAFKA-2009\nFix UncheckedOffset.removeOffset synchronization and trace logging issue in mirror maker\nNo (depends on KAFKA-1650)\nKAFKA-2407\nOnly create a log directory when it will be used\nmedium\nsmall\nNo\nKAFKA-2327\nbroker doesn't start if config defines advertised.host but not advertised.port\nNo (shouldn't exist in 0.8.2)\nKAFKA-2234\nPartition reassignment of a nonexistent topic prevents future reassignments\nmedium\nsmall\nNo\nKAFKA-2096\nEnable keepalive socket option for broker to prevent socket leak\nhigh\nsmall\nYes\nKAFKA-1057\nTrim whitespaces from user specified configs\nhigh\nsmall\nYes\nKAFKA-1641\nLog cleaner exits if last cleaned offset is lower than earliest offset\nmedium\nsmall\nNo\nKAFKA-1648\nRound robin consumer balance throws an NPE when there are no topics\nmedium\nlarge\nNo\nKAFKA-1724\nErrors after reboot in single node setup\nmedium\nsmall\nNo (never committed)\nKAFKA-1758\ncorrupt recovery file prevents startup\nmedium\nsmall\nYes\nKAFKA-1866\nLogStartOffset gauge throws exceptions after log.delete()\nlow\nmedium\nNo\nKAFKA-1883\nNullPointerException in RequestSendThread\nhigh\nsmall\nYes\nKAFKA-1896\nRecord size function of record in mirror maker hit NPE when the message value is null.\nhigh\nsmall\nYes if applies (MirrorMaker changed a fair bit)\nKAFKA-2101\nMetric metadata-age is reset on a failed update\nlow\nsmall\nNo\nKAFKA-2112\nmake overflowWheel volatile\nDoesn't exist in 0.8.2\nKAFKA-2117\nOffsetManager uses incorrect field for metadata\nDoesn't exist in 0.8.2\nKAFKA-2164\nReplicaFetcherThread: suspicious log message on reset offset\nlow\ntiny\nNo\nKAFKA-1668\nTopicCommand doesn't warn if --topic argument doesn't match any topics\nhigh\nsmall\nYes\nKAFKA-2198\nkafka-topics.sh exits with 0 status on failures\nmedium\nsmall\nNo (can break existing scripts)\nKAFKA-2235\nLogCleaner offset map overflow\nhigh\nsmall\nYes\nKAFKA-2241\nAbstractFetcherThread.shutdown() should not block on ReadableByteChannel.read(buffer)\nhigh\nsmall\nNo (Rare issue)\nKAFKA-2272\nlisteners endpoint parsing fails if the hostname has capital letter\nDoesn't exist in 0.8.2\nKAFKA-2345\nAttempt to delete a topic already marked for deletion throws ZkNodeExistsException\nlow\nsmall\nNo\nKAFKA-2355\nAdd an unit test to validate the deletion of a partition marked as deleted\nlow\nsmall\nNo (depends on KAFKA-2345)\nKAFKA-2353\nSocketServer.Processor should catch exception and close the socket properly in configureNewConnections.\nDoesn't exist in 0.8.2\nKAFKA-1836\nmetadata.fetch.timeout.ms\nset to zero blocks forever\nhigh\nsmall\nYes\nKAFKA-2317\nDe-register isrChangeNotificationListener on controller resignation\nDoesn't exist in 0.8.2\nKAFKA-2147\nUnbalanced replication can cause extreme purgatory growth\nhigh\nsmall\nYes",
  "url": "https://cwiki.apache.org/confluence/display/KAFKA/Proposed+patches+for+0.8.2.2",
  "space": "KAFKA",
  "labels": [],
  "last_modified": null,
  "source_type": "confluence"
}